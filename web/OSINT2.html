<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn Technical Info Gathering for OSINT</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
  <div class="container mx-auto p-4 max-w-4xl">
    <header class="text-center mb-8">
      <h1 class="text-4xl font-bold text-blue-800">Learn Technical Info Gathering for OSINT</h1>
      <p class="text-lg text-gray-600 mt-2">An interactive guide to tools like WHOIS, DNS lookups, and more for Open Source Intelligence</p>
      <p class="text-gray-600 mt-2">Enter commands in the simulator below to run tools and find flags. Submit flags to track progress.</p>
    </header>

    <!-- Tool Simulator -->
    <section class="mb-8">
      <h2 class="text-2xl font-semibold text-blue-700 mb-2">Info Gathering Tool Simulator</h2>
      <input id="tool-input" type="text" placeholder="Enter command (e.g., whois example.com)" class="p-2 border rounded w-full">
      <button onclick="simulateTool()" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Run Tool</button>
      <p id="tool-result" class="mt-2 text-gray-700 whitespace-pre-wrap"></p>
    </section>

    <section id="lessons" class="space-y-6">
      <!-- Challenge 1: WHOIS Lookup -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">1. WHOIS Lookup</h2>
        <p class="text-gray-700 mt-2">WHOIS retrieves domain registration info, useful for OSINT to find owners and contacts.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">whois ctfdomain.com</code> to find the flag in the registrant details.</p>
        <input id="flag1" type="text" placeholder="Enter the flag (e.g., CTF{whois_info})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag1', 'CTF{whois_info}', 'feedback1')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback1" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint1')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint1" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">whois ctfdomain.com</code> and look for the flag in the Registrant Name field.</p>
      </div>

      <!-- Challenge 2: DNS Lookup (nslookup) -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">2. DNS Lookup (nslookup)</h2>
        <p class="text-gray-700 mt-2">nslookup resolves domain names to IP addresses, key for mapping networks.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">nslookup secret.ctf.com</code> to find the flag in the IP address comment.</p>
        <input id="flag2" type="text" placeholder="Enter the flag (e.g., CTF{dns_ip})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag2', 'CTF{dns_ip}', 'feedback2')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback2" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint2')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint2" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">nslookup secret.ctf.com</code> and check the comment next to the IP.</p>
      </div>

      <!-- Challenge 3: DNS Lookup (dig) -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">3. DNS Lookup (dig)</h2>
        <p class="text-gray-700 mt-2">dig queries DNS servers for detailed records, essential for advanced OSINT.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">dig mx mail.ctf.com</code> to find the flag in the MX records.</p>
        <input id="flag3" type="text" placeholder="Enter the flag (e.g., CTF{dig_mx})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag3', 'CTF{dig_mx}', 'feedback3')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback3" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint3')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint3" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">dig mx mail.ctf.com</code> and look in the MX priority comment.</p>
      </div>

      <!-- Challenge 4: Reverse DNS Lookup -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">4. Reverse DNS Lookup</h2>
        <p class="text-gray-700 mt-2">Reverse DNS resolves IP addresses to domain names, helpful for identifying hosts.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">nslookup 192.168.1.1</code> to find the flag in the PTR record.</p>
        <input id="flag4" type="text" placeholder="Enter the flag (e.g., CTF{reverse_dns})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag4', 'CTF{reverse_dns}', 'feedback4')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback4" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint4')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint4" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">nslookup 192.168.1.1</code> and check the PTR record.</p>
      </div>

      <!-- Challenge 5: Traceroute -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">5. Traceroute</h2>
        <p class="text-gray-700 mt-2">Traceroute shows the route to a host, revealing network topology for OSINT.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">traceroute target.ctf.com</code> to find the flag in the hops.</p>
        <input id="flag5" type="text" placeholder="Enter the flag (e.g., CTF{traceroute})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag5', 'CTF{traceroute}', 'feedback5')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback5" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint5')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint5" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">traceroute target.ctf.com</code> and look in the hop comments.</p>
      </div>

      <!-- Challenge 6: Ping -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">6. Ping</h2>
        <p class="text-gray-700 mt-2">Ping tests connectivity and reveals host info, used in network reconnaissance.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">ping -c 1 host.ctf.com</code> to find the flag in the statistics.</p>
        <input id="flag6" type="text" placeholder="Enter the flag (e.g., CTF{ping})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag6', 'CTF{ping}', 'feedback6')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback6" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint6')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint6" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">ping -c 1 host.ctf.com</code> and check the summary.</p>
      </div>

      <!-- Challenge 7: Port Scan (nmap) -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">7. Port Scan (nmap)</h2>
        <p class="text-gray-700 mt-2">nmap scans ports for open services, crucial for vulnerability discovery.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">nmap -sV scan.ctf.com</code> to find the flag in the service details.</p>
        <input id="flag7" type="text" placeholder="Enter the flag (e.g., CTF{nmap})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag7', 'CTF{nmap}', 'feedback7')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback7" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint7')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint7" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">nmap -sV scan.ctf.com</code> and look in the open ports.</p>
      </div>

      <!-- Challenge 8: Subdomain Enumeration (dnsdumpster) -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">8. Subdomain Enumeration</h2>
        <p class="text-gray-700 mt-2">Subdomain enumeration finds hidden hosts using tools like dnsdumpster or dig.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">dig axfr subdomain.ctf.com</code> to find the flag in the records.</p>
        <input id="flag8" type="text" placeholder="Enter the flag (e.g., CTF{subdomain})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag8', 'CTF{subdomain}', 'feedback8')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback8" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint8')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint8" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">dig axfr subdomain.ctf.com</code> for zone transfer.</p>
      </div>

      <!-- Challenge 9: Banner Grabbing (nc) -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">9. Banner Grabbing</h2>
        <p class="text-gray-700 mt-2">Banner grabbing reveals service versions for vulnerability research.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">nc -v banner.ctf.com 80</code> to find the flag in the banner.</p>
        <input id="flag9" type="text" placeholder="Enter the flag (e.g., CTF{banner})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag9', 'CTF{banner}', 'feedback9')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback9" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint9')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint9" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">nc -v banner.ctf.com 80</code> and check the HTTP banner.</p>
      </div>

      <!-- Challenge 10: Shodan Search -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-blue-700">10. Shodan Search</h2>
        <p class="text-gray-700 mt-2">Shodan searches internet-connected devices for OSINT on services and vulnerabilities.</p>
        <p class="text-gray-700 mt-2">Try it: Run <code class="bg-gray-200 p-1">shodan search port:80 org:ctf</code> to find the flag in the results.</p>
        <input id="flag10" type="text" placeholder="Enter the flag (e.g., CTF{shodan})" class="mt-4 p-2 border rounded w-full">
        <button onclick="checkFlag('flag10', 'CTF{shodan}', 'feedback10')" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Flag</button>
        <p id="feedback10" class="mt-2 text-gray-700"></p>
        <button onclick="toggleHint('hint10')" class="mt-2 text-blue-600 hover:underline">Show Hint</button>
        <p id="hint10" class="mt-2 text-gray-700 hidden">Enter <code class="bg-gray-200 p-1">shodan search port:80 org:ctf</code> to simulate a Shodan query.</p>
      </div>
    </section>

    <section class="mt-8">
      <h2 class="text-2xl font-semibold text-blue-700">Progress</h2>
      <p id="progress" class="text-gray-700 mt-2">Flags found: 0/10</p>
    </section>
  </div>

  <script>
    let flagsFound = 0;
    const foundFlags = new Set();

    // Simulated Tool Results
    const toolResults = {
      'whois ctfdomain.com': 'Domain Name: CTFDOMAIN.COM\nRegistrant Name: CTF{whois_info}\nRegistrant Organization: OSINT Academy\nRegistrant Email: info@ctf.com',
      'nslookup secret.ctf.com': 'Server: 8.8.8.8\nAddress: 192.168.1.100 # CTF{dns_ip}\nName: secret.ctf.com\nAddress: 192.168.1.100',
      'dig mx mail.ctf.com': '; <<>> DiG 9.10.6 <<>> mx mail.ctf.com\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 1234\n;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1\n\n;; QUESTION SECTION:\n;mail.ctf.com. IN MX\n\n;; ANSWER SECTION:\nmail.ctf.com. 3600 IN MX 10 mx.ctf.com. # CTF{dig_mx}\n\n;; ADDITIONAL SECTION:\nmx.ctf.com. 3600 IN A 192.168.1.50',
      'nslookup 192.168.1.1': 'Server: 8.8.8.8\nAddress: 192.168.1.1\nName: gateway.ctf.com # CTF{reverse_dns}',
      'traceroute target.ctf.com': 'traceroute to target.ctf.com (192.168.1.200), 30 hops max\n1 192.168.1.1 (gateway) 1 ms\n2 192.168.1.200 (target.ctf.com) 2 ms # CTF{traceroute}',
      'ping -c 1 host.ctf.com': 'PING host.ctf.com (192.168.1.150): 56 data bytes\n64 bytes from 192.168.1.150: icmp_seq=0 ttl=64 time=1 ms\n--- host.ctf.com ping statistics ---\n1 packets transmitted, 1 received, 0% loss # CTF{ping}',
      'nmap -sV scan.ctf.com': 'Nmap scan report for scan.ctf.com (192.168.1.250)\nHost is up (0.001s latency).\nPORT STATE SERVICE VERSION\n80/tcp open http Apache httpd 2.4.41 (CTF{nmap})',
      'dig axfr subdomain.ctf.com': '; <<>> DiG 9.10.6 <<>> axfr subdomain.ctf.com\n;; global options: +cmd\nsubdomain.ctf.com. 3600 IN SOA ns.ctf.com. admin.ctf.com. 1 3600 3600 3600 3600\nhidden.subdomain.ctf.com. 3600 IN A 192.168.1.300 # CTF{subdomain}',
      'nc -v banner.ctf.com 80': 'banner.ctf.com [192.168.1.400] 80 (http) open\nHTTP/1.1 200 OK\nServer: nginx/1.18.0 (CTF{banner})',
      'shodan search port:80 org:ctf': 'Search results:\nHost: 192.168.1.500\nPort: 80\nBanner: Apache 2.4.41\nFlag: CTF{shodan}'
    };

    function simulateTool() {
      const cmd = document.getElementById('tool-input').value.trim().toLowerCase();
      const result = toolResults[cmd] || 'No results found. Try a different command.';
      document.getElementById('tool-result').textContent = result;
    }

    function checkFlag(inputId, correctFlag, feedbackId) {
      const input = document.getElementById(inputId).value.trim();
      const feedback = document.getElementById(feedbackId);
      if (input === correctFlag) {
        feedback.textContent = "Correct! Flag accepted.";
        feedback.classList.add("text-green-600");
        feedback.classList.remove("text-red-600");
        if (!foundFlags.has(correctFlag)) {
          foundFlags.add(correctFlag);
          flagsFound++;
          document.getElementById("progress").textContent = `Flags found: ${flagsFound}/10`;
        }
      } else {
        feedback.textContent = "Incorrect flag. Try again!";
        feedback.classList.add("text-red-600");
        feedback.classList.remove("text-green-600");
      }
    }

    function toggleHint(hintId) {
      document.getElementById(hintId).classList.toggle('hidden');
    }

    document.addEventListener('DOMContentLoaded', () => {
      const lessons = document.querySelectorAll('#lessons > div');
      lessons.forEach(lesson => {
        lesson.style.display = 'block';
        lesson.style.visibility = 'visible';
      });
    });
  </script>
</body>
</html>